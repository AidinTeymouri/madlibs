<div class="alert alert-info mt-3">
  <p>To fill in your madlib words using speech recognition, click the <em>"Listen"</em> button below. If prompted, grant the app permission to use your device's microphone. Then say a <em>type</em> of word (also known as "parts of speech") followed by the word itself.</p>

  <p>Here are some examples:</p>

  <ul>
    <li><em>"noun <strong>cat</strong>"</em></li>
    <li><em>"verb <strong>jumping</strong>"</em></li>
    <li><em>"adjective <strong>flashy</strong>"</em></li>
  </ul>

  <p>Wait for the app to assess your command and fill in the appropriate madlib field. Then say another command to fill another field. Repeat until all fields are filled in. You may also <em>"Stop"</em> listening at any time and fill in the fields manually.</p>

  <div class="row">
    <div class="col btn-group">
      <button
        class="btn btn-primary col-6"
        (click)="speech.startListening()"
        [disabled]="speech.listening">
          <img class="icon" src="/assets/images/mic-on.png">Listen
      </button>

      <button
        class="btn btn-danger col-6"
        (click)="speech.abort()"
        [disabled]="!speech.listening">
          <img class="icon" src="/assets/images/mic-off.png">Stop
      </button>
    </div>
  </div>
</div>

<form (submit)="done()" #wordsForm="ngForm">
  <div class="row">
    <div class="col-4">
      <h3>Nouns</h3>
      <div *ngFor="let noun of nouns; let i = index; trackBy: trackWords">
        <input
          type="text"
          name="noun-{{i}}"
          class="form-control"
          [(ngModel)]="nouns[i].word"
          required>
      </div>
    </div>
    <div class="col-4">
      <h3>Verbs</h3>
      <div *ngFor="let verb of verbs; let i = index; trackBy: trackWords">
        <input
          type="text"
          name="verb-{{i}}"
          class="form-control"
          [(ngModel)]="verbs[i].word"
          required>
      </div>
    </div>
    <div class="col-4">
      <h3>Adjectives</h3>
      <div *ngFor="let adj of adjs; let i = index; trackBy: trackWords">
        <input
          type="text"
          name="adj-{{i}}"
          class="form-control"
          [(ngModel)]="adjs[i].word"
          required>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col mt-3">
      <button
        class="btn btn-block btn-lg btn-success"
        (click)="done()"
        [disabled]="!wordsForm.form.valid">Done</button>
    </div>
  </div>
</form>
